<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>TruckGestor - Controle de Frota</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- BACKGROUND DE VÍDEO PARA A PÁGINA DE LOGIN -->
  <video autoplay muted loop playsinline id="login-video-bg">
    <source src="video/login-bg.mp4" type="video/mp4" />
  </video>

  <!-- PÁGINA DE LOGIN -->
  <div id="login-page" class="page login-page page-enter">
    <div class="login-card glass-strong">
      <div class="login-header">
        <div class="logo-mark">TG</div>
        <div>
          <h1>TruckGestor</h1>
          <p>Gestão de gastos da frota em um só lugar</p>
        </div>
      </div>

      <h2>Entrar no painel</h2>
      <p class="login-subtitle">
        Acesse o painel para cadastrar motoristas, cavalos, carretas, pneus e controlar os gastos.
      </p>

      <form id="login-form" class="form-grid">
        <div>
          <label for="login-user">Usuário</label>
          <input type="text" id="login-user" placeholder="admin" required />
        </div>

        <div>
          <label for="login-pass">Senha</label>
          <input type="password" id="login-pass" placeholder="123456" required />
        </div>

        <button type="submit" class="btn btn-primary">Entrar</button>
      </form>

      <p class="login-demo">
        <strong>Demo:</strong> usuário <code>admin</code>, senha <code>123456</code>
      </p>
    </div>
  </div>

  <!-- PÁGINA ADMIN -->
  <div id="admin-page" class="page admin-page">
    <header class="admin-header glass-strong">
      <div class="admin-brand">
        <div class="logo-mark small">TG</div>
        <div>
          <span class="brand-title">TruckGestor</span>
          <span class="brand-subtitle">Painel do administrador</span>
        </div>
      </div>
      <div class="admin-header-right">
        <nav class="admin-nav">
          <button class="nav-btn active" data-section="dashboard-section">Dashboard</button>
          <button class="nav-btn" data-section="drivers-section">Motoristas</button>
          <button class="nav-btn" data-section="trucks-section">Cavalos</button>
          <button class="nav-btn" data-section="trailers-section">Carretas</button>
          <button class="nav-btn" data-section="tires-section">Pneus</button>
          <button class="nav-btn" data-section="expenses-section">Lançar gastos</button>
          <button class="nav-btn" data-section="report-section">Relatórios</button>
        </nav>
        <button id="logout-btn" class="btn btn-secondary">Sair</button>
      </div>
    </header>

    <main class="admin-main">
      <!-- INTRO -->
      <section class="admin-intro">
        <h1>Visão geral da frota</h1>
        <p>Controle motoristas, veículos, pneus e todos os gastos da sua operação em tempo real.</p>
      </section>

      <!-- DASHBOARD -->
      <section id="dashboard-section" class="content-section active">
        <div class="dashboard-summary">
          <div class="summary-card glass-soft">
            <span class="summary-label">Total do mês</span>
            <span class="summary-value" id="summary-total">R$ 0,00</span>
            <span class="summary-hint" id="summary-month">—</span>
          </div>
          <div class="summary-card glass-soft">
            <span class="summary-label">Gastos lançados</span>
            <span class="summary-value" id="summary-count">0</span>
            <span class="summary-hint">lançamentos no mês</span>
          </div>
          <div class="summary-card glass-soft">
            <span class="summary-label">Motorista com maior gasto</span>
            <span class="summary-value" id="summary-top-driver">—</span>
            <span class="summary-hint" id="summary-top-driver-total">R$ 0,00</span>
          </div>
        </div>

        <div class="card glass-soft">
          <div class="card-header">
            <h2>Resumo rápido</h2>
            <p>Use os relatórios para detalhar por motorista, cavalo, carreta ou pneu.</p>
          </div>
          <p style="font-size:0.85rem; color:#6b7280;">
            Este painel mostra um resumo do mês atual. Para filtrar por período,
            motorista ou veículo, utilize a aba <strong>Relatórios</strong>.
          </p>
        </div>
      </section>

      <!-- MOTORISTAS -->
      <section id="drivers-section" class="content-section">
        <div class="card glass-soft">
          <div class="card-header">
            <h2>Motoristas</h2>
            <p>Cadastre e gerencie os motoristas da sua frota.</p>
          </div>

          <form id="driver-form" class="form-grid two-cols">
            <div>
              <label for="driver-name">Nome *</label>
              <input type="text" id="driver-name" required placeholder="Ex: João da Silva" />
            </div>
            <div>
              <label for="driver-phone">Telefone</label>
              <input type="text" id="driver-phone" placeholder="(00) 00000-0000" />
            </div>
            <div>
              <label for="driver-cnh">CNH (opcional)</label>
              <input type="text" id="driver-cnh" placeholder="Número da CNH" />
            </div>
            <div>
              <label for="driver-status">Status</label>
              <select id="driver-status">
                <option value="ativo">Ativo</option>
                <option value="inativo">Inativo</option>
              </select>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Salvar motorista</button>
            </div>
          </form>
        </div>

        <div class="card glass-soft">
          <div class="card-header">
            <h3>Lista de motoristas</h3>
            <p>Motoristas cadastrados no sistema.</p>
          </div>
          <ul id="drivers-list" class="simple-list"></ul>
        </div>
      </section>

      <!-- CAVALOS (TRUCKS) -->
      <section id="trucks-section" class="content-section">
        <div class="card glass-soft">
          <div class="card-header">
            <h2>Cavalos (caminhões)</h2>
            <p>Registre as informações dos cavalos mecânicos.</p>
          </div>

          <form id="truck-form" class="form-grid three-cols">
            <div>
              <label for="truck-plate">Placa *</label>
              <input type="text" id="truck-plate" required placeholder="Ex: ABC1D23" />
            </div>
            <div>
              <label for="truck-model">Modelo</label>
              <input type="text" id="truck-model" placeholder="Ex: Scania R450" />
            </div>
            <div>
              <label for="truck-year">Ano</label>
              <input type="number" id="truck-year" placeholder="2022" />
            </div>
            <div>
              <label for="truck-odometer">Odômetro atual (km)</label>
              <input type="number" id="truck-odometer" placeholder="150000" />
            </div>
            <div>
              <label for="truck-status">Status</label>
              <select id="truck-status">
                <option value="ativo">Ativo</option>
                <option value="parado">Parado</option>
                <option value="manutencao">Manutenção</option>
              </select>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Salvar cavalo</button>
            </div>
          </form>
        </div>

        <div class="card glass-soft">
          <div class="card-header">
            <h3>Lista de cavalos</h3>
            <p>Visualize rapidamente os veículos da frota.</p>
          </div>
          <ul id="trucks-list" class="simple-list"></ul>
        </div>
      </section>

      <!-- CARRETAS -->
      <section id="trailers-section" class="content-section">
        <div class="card glass-soft">
          <div class="card-header">
            <h2>Carretas</h2>
            <p>Cadastre suas carretas (baú, graneleira, frigorífica, etc.).</p>
          </div>

          <form id="trailer-form" class="form-grid three-cols">
            <div>
              <label for="trailer-plate">Placa *</label>
              <input type="text" id="trailer-plate" required placeholder="Ex: DEF2G34" />
            </div>
            <div>
              <label for="trailer-type">Tipo</label>
              <input type="text" id="trailer-type" placeholder="Baú, graneleira, frigorífica..." />
            </div>
            <div>
              <label for="trailer-year">Ano</label>
              <input type="number" id="trailer-year" placeholder="2020" />
            </div>
            <div>
              <label for="trailer-status">Status</label>
              <select id="trailer-status">
                <option value="ativa">Ativa</option>
                <option value="parada">Parada</option>
                <option value="manutencao">Manutenção</option>
              </select>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Salvar carreta</button>
            </div>
          </form>
        </div>

        <div class="card glass-soft">
          <div class="card-header">
            <h3>Lista de carretas</h3>
            <p>Controle placas, tipos e status.</p>
          </div>
          <ul id="trailers-list" class="simple-list"></ul>
        </div>
      </section>

      <!-- PNEUS -->
      <section id="tires-section" class="content-section">
        <div class="card glass-soft">
          <div class="card-header">
            <h2>Pneus</h2>
            <p>Controle cada pneu individualmente para acompanhar custos e vida útil.</p>
          </div>

          <form id="tire-form" class="form-grid three-cols">
            <div>
              <label for="tire-code">Código / ID *</label>
              <input type="text" id="tire-code" required placeholder="Ex: PN-001" />
            </div>
            <div>
              <label for="tire-brand">Marca</label>
              <input type="text" id="tire-brand" placeholder="Ex: Michelin" />
            </div>
            <div>
              <label for="tire-model">Modelo</label>
              <input type="text" id="tire-model" placeholder="Ex: X Multi" />
            </div>
            <div>
              <label for="tire-purchase-date">Data de compra</label>
              <input type="date" id="tire-purchase-date" />
            </div>
            <div>
              <label for="tire-purchase-value">Valor de compra (R$)</label>
              <input type="number" step="0.01" id="tire-purchase-value" />
            </div>
            <div>
              <label for="tire-state">Estado</label>
              <select id="tire-state">
                <option value="estoque">Em estoque</option>
                <option value="em_uso">Em uso</option>
                <option value="descartado">Descartado</option>
              </select>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Salvar pneu</button>
            </div>
          </form>
        </div>

        <div class="card glass-soft">
          <div class="card-header">
            <h3>Lista de pneus</h3>
            <p>Pneus cadastrados e estado atual.</p>
          </div>
          <ul id="tires-list" class="simple-list"></ul>
        </div>
      </section>

      <!-- LANÇAMENTO DE GASTOS -->
      <section id="expenses-section" class="content-section">
        <div class="card glass-soft">
          <div class="card-header">
            <h2>Lançar gastos</h2>
            <p>Registre os gastos e associe a motorista, cavalo, carreta e pneu quando fizer sentido.</p>
          </div>

          <form id="expense-form" class="form-grid three-cols">
            <div>
              <label for="expense-driver">Motorista</label>
              <select id="expense-driver">
                <!-- carregado via JS -->
              </select>
            </div>
            <div>
              <label for="expense-truck">Cavalo</label>
              <select id="expense-truck">
                <option value="">Nenhum</option>
              </select>
            </div>
            <div>
              <label for="expense-trailer">Carreta</label>
              <select id="expense-trailer">
                <option value="">Nenhuma</option>
              </select>
            </div>
            <div>
              <label for="expense-tire">Pneu</label>
              <select id="expense-tire">
                <option value="">Nenhum</option>
              </select>
            </div>
            <div>
              <label for="expense-category">Categoria *</label>
              <select id="expense-category" required>
                <!-- categorias carregadas via JS -->
              </select>
            </div>
            <div>
              <label for="expense-date">Data *</label>
              <input type="date" id="expense-date" required />
            </div>
            <div>
              <label for="expense-value">Valor (R$) *</label>
              <input type="number" step="0.01" id="expense-value" required />
            </div>
            <div>
              <label for="expense-odometer">Odômetro (km)</label>
              <input type="number" id="expense-odometer" placeholder="Obrigatório para combustível/manutenção" />
            </div>
            <div>
              <label for="expense-invoice">Número da NF</label>
              <input type="text" id="expense-invoice" placeholder="Ex: 000123" />
            </div>
            <div>
              <label for="expense-supplier">Fornecedor</label>
              <input type="text" id="expense-supplier" placeholder="Ex: Posto BR - Rodovia" />
            </div>
            <div class="full-width">
              <label for="expense-description">Observações</label>
              <textarea id="expense-description" rows="3" placeholder="Descrição do gasto, observações, etc."></textarea>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary">Salvar gasto</button>
            </div>
          </form>
        </div>
      </section>

      <!-- RELATÓRIOS -->
      <section id="report-section" class="content-section">
        <div class="card glass-soft">
          <div class="card-header">
            <h2>Relatórios</h2>
            <p>Filtre e analise os gastos por período, motorista, cavalo, carreta, pneu e categoria.</p>
          </div>

          <form id="filter-form" class="form-grid four-cols">
            <div>
              <label for="filter-driver">Motorista</label>
              <select id="filter-driver">
                <option value="">Todos</option>
              </select>
            </div>
            <div>
              <label for="filter-truck">Cavalo</label>
              <select id="filter-truck">
                <option value="">Todos</option>
              </select>
            </div>
            <div>
              <label for="filter-trailer">Carreta</label>
              <select id="filter-trailer">
                <option value="">Todas</option>
              </select>
            </div>
            <div>
              <label for="filter-tire">Pneu</label>
              <select id="filter-tire">
                <option value="">Todos</option>
              </select>
            </div>
            <div>
              <label for="filter-category">Categoria</label>
              <select id="filter-category">
                <option value="">Todas</option>
              </select>
            </div>
            <div>
              <label for="filter-start">Data inicial</label>
              <input type="date" id="filter-start" />
            </div>
            <div>
              <label for="filter-end">Data final</label>
              <input type="date" id="filter-end" />
            </div>
            <div class="form-actions">
              <button type="submit" class="btn btn-primary btn-small">Aplicar filtros</button>
            </div>
          </form>

          <div class="report-summary">
            <div>
              <div class="total" id="total-display">Total: R$ 0,00</div>
              <div class="totais-motorista" id="total-by-driver"></div>
            </div>
            <div style="display:flex; gap:0.5rem; flex-wrap:wrap;">
              <button type="button" class="btn btn-secondary" id="btn-export-csv">Exportar CSV</button>
              <button type="button" class="btn btn-secondary" onclick="window.print()">Imprimir / Salvar em PDF</button>
            </div>
          </div>

          <div class="table-wrapper glass-soft">
            <table id="expenses-table">
              <thead>
                <tr>
                  <th>Data</th>
                  <th>Motorista</th>
                  <th>Cavalo</th>
                  <th>Carreta</th>
                  <th>Pneu</th>
                  <th>Categoria</th>
                  <th>Valor (R$)</th>
                  <th>NF</th>
                  <th>Fornecedor</th>
                  <th>Odômetro</th>
                  <th>Observações</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="js/app.js"></script>
</body>
</html>
